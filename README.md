# Flutter Бонусное задание № 2
## Лазарева Александра Константиновна БПИ 234
### Задание по асинхронному программированию на Dart с CoinGecko API

- Работа с `Future` и `async/await`
- Создание и использование `Stream`
- HTTP-запросы с помощью пакета `http`
- Десериализация JSON в Dart-объекты
- Реализация паттерна Repository
- Обработка ошибок в асинхронном коде
---
#### Задачи:

1. **Создание моделей данных**
   - `Coin` - базовая информация о криптовалюте
   - `CoinDetails` - детальная информация

2. **Реализация Repository**
   - `getTopCoins(int limit)` - получение топ криптовалют
   - `getCoinDetails(String coinId)` - детальная информация о монете
   - `getCoinsStream(List<String> coinIds)` - стрим с монетами

3. **CLI-интерфейс**
   - Вывод отформатированной информации в консоль

4. Использовать json_serializable (можно с freezed) для создания моделей

5. **Периодическое обновление**
   - `pollPrices()` - стрим с периодическим обновлением цен

6. **Трансформации стримов**
   - Фильтрация по цене
   - Извлечение только названий

---
  
#### Запуск:

```bash
dart pub get
dart run task.dart
```
#### Вывод:
macboock@MacBook-Air dart-async-task % dart pub get
dart run task.dart
Resolving dependencies... 
Downloading packages... 
  _fe_analyzer_shared 91.0.0 (92.0.0 available)
  analyzer 8.4.0 (9.0.0 available)
  build_daemon 4.0.4 (4.1.0 available)
  build_runner 2.9.0 (2.10.1 available)
  crypto 3.0.6 (3.0.7 available)
  lints 3.0.0 (6.0.0 available)
Got dependencies!
6 packages have newer versions incompatible with dependency constraints.
Try `dart pub outdated` for more information.
Начинаем работу с CoinGecko API...

Топ 5 криптовалют по рыночной капитализации:
Bitcoin (btc): $103468.00
Ethereum (eth): $3440.00
Tether (usdt): $1.00
XRP (xrp): $2.32
BNB (bnb): $989.19

==================================================

Детальная информация о Bitcoin:
Название: Bitcoin
Описание: Bitcoin is the first successful internet money based on peer-to-peer technology; whereby no central ...
Изменение за 24ч: 2.06353%

==================================================

Получение информации через стрим:
Получена монета: Bitcoin - $2.06353
Получена монета: Ethereum - $4.26082
Получена монета: Cardano - $9.15502

==================================================


Периодическое обновление цен (каждые 5 секунд):
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429

Обновление: 2025-11-08 02:29:10.039249
  Bitcoin: $103472.0
  Ethereum: $3439.2

Обновление: 2025-11-08 02:29:15.155375
  Bitcoin: $103472.0
  Ethereum: $3439.2
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429
Ошибка при обновлении цен: HttpException: Ошибка при загрузке нескольких монет: 429

Обновление: 2025-11-08 02:30:22.722790
  Bitcoin: $103455.0
  Ethereum: $3438.05

==================================================

Монеты с ценой > 1000:

Программа завершена!
macboock@MacBook-Air dart-async-task % 
